#:kivy 1.6.0

<ButtonTest>:
    text: 'Next var'
    background_colour: self.get_colour(self.board)


<StarPoint>:
    canvas:
        Color:
            rgb: 0,0,0
        Ellipse:
            size: 0.2*self.width, 0.2*self.height
            pos: self.pos[0] + 0.4*self.width, self.pos[1] + 0.4*self.height

<PlayMarker>:
    canvas:
        Color:
            rgba: self.markercolour[0],self.markercolour[1],self.markercolour[2],0.6
        Ellipse:
            pos: self.pos[0] + 0.35*self.width,self.pos[1] + 0.35*self.height
            size: 0.3*self.width, 0.3*self.width

<KoMarker>:
    canvas:
        Color:
            rgb: (0,0,0)
        Line:
            points: [self.pos[0] + 0.2*self.width, self.pos[1]+0.2*self.height, self.pos[0]+0.8*self.width, self.pos[1]+0.2*self.height, self.pos[0]+0.8*self.width,self.pos[1]+0.8*self.height, self.pos[0]+0.2*self.width, self.pos[1]+0.8*self.height]
            close: True
            width: 0.02*self.size[0]
            joint: 'miter'

<TriangleMarker>:
    canvas:
        Color:
            rgb: self.markercolour
        Line:
            points: [self.pos[0] + 0.2*self.size[0], self.pos[1] + 0.3*self.size[1], self.pos[0] + 0.8*self.size[0], self.pos[1]+0.3*self.size[1], self.pos[0]+0.5*self.size[0],self.pos[1]+0.85*self.size[1]]
            close: True
            width: 0.04*self.size[0]
            joint: 'miter'

<SquareMarker>:
    canvas:
        Color:
            rgb: self.markercolour
        Line:
            points: [self.pos[0] + 0.2*self.width, self.pos[1]+0.2*self.height, self.pos[0]+0.8*self.width, self.pos[1]+0.2*self.height, self.pos[0]+0.8*self.width,self.pos[1]+0.8*self.height, self.pos[0]+0.2*self.width, self.pos[1]+0.8*self.height]
            close: True
            width: 0.04*self.size[0]
            joint: 'miter'

<CircleMarker>:
    canvas:
        Color:
            rgb: self.markercolour
        Line:
            points: [self.pos[0],self.pos[1],self.pos[0]+self.width,self.pos[0]+self.height]
            close: True
            width: 0.04*self.size[0]
            circle: (self.pos[0] + 0.5*self.width, self.pos[1]+0.5*self.height, 0.3*self.width, 0, 360, 40)
        
<CrossMarker>:
    canvas:
        Color:
            rgb: self.markercolour
        Line:
            points: [self.pos[0]+0.2*self.width,self.pos[1]+0.2*self.height,self.pos[0]+0.8*self.width,self.pos[1]+0.8*self.height]
            width: 0.04*self.size[0]
        Line:
            points: [self.pos[0]+0.2*self.width,self.pos[1]+0.8*self.height,self.pos[0]+0.8*self.width,self.pos[1]+0.2*self.height]
            width: 0.04*self.size[0]

<TextMarker>:
    canvas.before:
        Color:
            rgb: self.markercolour
    Label:
        color: self.parent.markercolour
        pos: self.parent.pos
        size: self.parent.size
        text: self.parent.text
        halign: 'center'
        valign: 'middle'
        font_size: (0.7*self.height,'px')

        

            

<Stone>:
    canvas:
        Color:
            rgb: 0,0,0
        Ellipse:
            size: self.size
            pos: self.pos

        Color:
            rgb: self.colour
        Ellipse:
            size: (0.9*self.size[0],0.9*self.size[1])
            pos: self.pos[0] + 0.05*self.width, self.pos[1] + 0.05*self.height

<GuiBoard>:
    canvas:
        Color:
            rgb: (0.980, 0.766, 0.402)
        Rectangle:
            pos: self.gobanpos
            size: self.gobansize

        Color:
            hsv: (0,0,0)
        Line:
            points: [self.pos[0] + self.boardindent[0], self.pos[1] + self.boardindent[1], self.pos[0] + self.width - self.boardindent[0], self.pos[1] + self.boardindent[1], self.pos[0] + self.width - self.boardindent[0], self.pos[1] + self.height - self.boardindent[1], self.pos[0] + self.boardindent[0], self.pos[1] + self.height - self.boardindent[1]]
            width: 1.0
            close: True

        Line:
            points: self.gridlines
            width: 1.0

<BoardContainer>:
    board: theboard

    GuiBoard:
        id: theboard
        size: self.parent.boardsize
        pos: self.parent.boardpos

<PlayerDetails>:
    orientation: 'vertical'
    spacing: 1
    
    BoxLayout:
        orientation: 'horizontal'
        Widget:
            canvas:
                Color:
                    rgba: (1,1,1,0.2)
                Ellipse:
                    pos: self.pos[0] + 0.05*self.width, self.pos[1] + 0.05*self.height
                    size: (0.9*self.height,0.9*self.height)
                Color:
                    rgb: (1,1,1)
                Ellipse:
                    pos: self.pos[0] + 0.1*self.width, self.pos[1] + 0.1*self.height
                    size: (0.8*self.height,0.8*self.height)
            size: self.parent.height, self.parent.height
            size_hint: None, None
                
        Label:
            text: ''.join(('W: ',self.parent.parent.wtext,''))
            font_size: 0.7*self.height
            markup: True
            text_size: self.width-20, self.height
            padding: 10,0
            halign: 'left'
            valign: 'middle'

    BoxLayout:
        orientation: 'horizontal'
        Widget:
            size: self.parent.height, self.parent.height
            canvas:
                Color:
                    rgba: (1,1,1,0.8)
                Ellipse:
                    pos: self.pos[0] + 0.05*self.width, self.pos[1] + 0.05*self.height
                    size: (0.9*self.height,0.9*self.height)
                Color:
                    rgb: (0,0,0)
                Ellipse:
                    pos: self.pos[0] + 0.1*self.width, self.pos[1] + 0.1*self.height
                    size: (0.8*self.height,0.8*self.height)
            size: self.parent.height, self.parent.height
            size_hint: None, None
        Label:
            text: ''.join(('B: ',self.parent.parent.btext,''))
            font_size: 0.7*self.height
            markup: True
            text_size: self.width-20, self.height
            padding: 10,0
            halign: 'left'
            valign: 'middle'

        

<CommentBox>:
    textbox: thetb
    do_scroll_x: False
    scroll_distance: 5
    scroll_timeout: 250

    GridLayout:
        cols: 1
        spacing: 10
        size_hint_y: None
        size: self.parent.textbox.texture_size

        Label:
                
            id: thetb
            text: self.parent.parent.text
            markup: True
            text_size: self.width-10,None
            padding: 10,10
            size: self.parent.width,self.texture_size[1]
            
